<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Каталог | MobiGo</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/colors.css">
  <link rel="stylesheet" href="css/dark.css">
  <link rel="stylesheet" href="css/responsive.css">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <div class="floating-navbar">
    <div class="nav-left">
      <div class="logo"><a href="index.html">MobiGo</a></div>
      <span class="city">Чебоксары</span>
    </div>
    <div class="burger" id="burger">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <div class="nav-right" id="nav-menu">
      <a href="index.html">Главная</a>
      <a href="catalog.html">Каталог</a>
      <a href="auth.html">Вход/Регистрация</a>
      <button class="theme-toggle" onclick="toggleTheme()">
        <i class="bi bi-moon"></i>
      </button>
      <div class="user-icon"><a href="profile.html"><i class="bi bi-person"></i></a></div>
    </div>
  </div>

  <div id="rentModal" class="modal hidden">
    <div class="modal-overlay" data-close></div>
    <div class="modal-content">
      <button class="modal-close" data-close>&times;</button>
      <h3 class="modal-title">Аренда автомобиля</h3>
      <form id="rentForm" class="modal-form">
        <div class="form-group">
          <label>Номер телефона</label>
          <div class="input-with-prefix">
            <span class="prefix">+7</span>
            <input type="tel" name="phone" placeholder="900 123-45-67" required>
          </div>
        </div>
        <div class="form-group">
          <label>Автомобиль</label>
          <select name="car" required>
            <option value="" disabled selected>Выберите автомобиль</option>
            <option value="corolla">Toyota Corolla</option>
            <option value="bmw">BMW X5</option>
            <option value="honda">Honda Civic</option>
            <option value="audi">Audi Q7</option>
            <option value="mercedes">Mercedes E-Class</option>
            <option value="jeep">Jeep Wrangler</option>
          </select>
        </div>
        <div class="form-group">
          <label>Тариф</label>
          <div class="tariff-buttons">
            <button type="button" class="tariff-btn active" data-value="minute">Поминутно</button>
            <button type="button" class="tariff-btn" data-value="hour">Почасово</button>
            <button type="button" class="tariff-btn" data-value="day">Суточно</button>
          </div>
          <input type="hidden" name="tariff" value="minute">
        </div>
        <div class="modal-buttons">
          <button type="button" class="btn btn-outline" data-close>Отмена</button>
          <button type="submit" class="btn btn-dark">Подтвердить</button>
        </div>
      </form>
    </div>
  </div>

  <div id="carDetailsModal" class="modal hidden">
    <div class="modal-overlay" data-close></div>
    <div class="modal-content">
      <button class="modal-close" data-close>&times;</button>
      <h3 class="modal-title">Toyota Corolla</h3>
      <div class="car-details-content">
        <img src="images/Toyota_Corolla.webp" alt="Автомобиль" class="car-image">
        <div class="car-specs"></div>
        <div class="tariff-info">
          <h4>Тарифы</h4>
          <div class="tariff-row"></div>
        </div>
        <div class="modal-buttons">
          <button type="button" class="btn btn-outline" data-close>Закрыть</button>
          <button type="button" class="btn btn-dark" onclick="openRentModal()">Арендовать</button>
        </div>
      </div>
    </div>
  </div>

  <section class="catalog-section">
    <h1 class="section-title">Каталог автомобилей</h1>
    <div class="filters">
      <div class="filter-btn active">Все</div>
      <div class="filter-btn">Механика</div>
      <div class="filter-btn">Автомат</div>
      <div class="filter-btn">Передний привод</div>
      <div class="filter-btn">Полный привод</div>
    </div>
    <div class="catalog-grid">

      <div class="rental-card" data-category="Механика Передний привод">
        <img src="images/Toyota_Corolla.webp" alt="Toyota Corolla">
        <div class="card-body">
          <span class="tag">Аренда</span>
          <h3>Toyota Corolla</h3>
          <p class="desc">Седан, Механика, Передний привод</p>
          <div class="price-row">
            <div class="price">50 ₽/мин</div>
            <div class="price">1200 ₽/час</div>
          </div>
          <div class="card-buttons">
            <button class="btn" onclick='openCarDetails("Toyota Corolla", "images/Toyota_Corolla.webp", [
              {label: "Тип", value: "Седан"},
              {label: "КПП", value: "Механика"},
              {label: "Привод", value: "Передний"},
              {label: "Двигатель", value: "1.8 л, 140 л.с."},
              {label: "Расход", value: "6.2 л/100км"}
            ], {minute: "50 ₽/мин", hour: "1200 ₽/час"})'>Подробнее</button>
            <button class="btn btn-dark" onclick="openRentModal()">Арендовать</button>
          </div>
        </div>
      </div>

      <div class="rental-card" data-category="Автомат Полный привод">
        <img src="images/BMW_X5.webp" alt="BMW X5">
        <div class="card-body">
          <span class="tag">Аренда</span>
          <h3>BMW X5</h3>
          <p class="desc">Внедорожник, Автомат, Полный привод</p>
          <div class="price-row">
            <div class="price">120 ₽/мин</div>
            <div class="price">3000 ₽/час</div>
          </div>
          <div class="card-buttons">
            <button class="btn" onclick='openCarDetails("BMW X5", "images/BMW_X5.webp", [
              {label: "Тип", value: "Внедорожник"},
              {label: "КПП", value: "Автомат"},
              {label: "Привод", value: "Полный"},
              {label: "Двигатель", value: "3.0 л, 306 л.с."},
              {label: "Расход", value: "8.5 л/100км"}
            ], {minute: "120 ₽/мин", hour: "3000 ₽/час"})'>Подробнее</button>
            <button class="btn btn-dark" onclick="openRentModal()">Арендовать</button>
          </div>
        </div>
      </div>

      <div class="rental-card" data-category="Механика Передний привод">
        <img src="images/Honda_Civic.webp" alt="Honda Civic">
        <div class="card-body">
          <span class="tag">Аренда</span>
          <h3>Honda Civic</h3>
          <p class="desc">Седан, Механика, Передний привод</p>
          <div class="price-row">
            <div class="price">55 ₽/мин</div>
            <div class="price">1300 ₽/час</div>
          </div>
          <div class="card-buttons">
            <button class="btn" onclick='openCarDetails("Honda Civic", "images/Honda_Civic.webp", [
              {label: "Тип", value: "Седан"},
              {label: "КПП", value: "Механика"},
              {label: "Привод", value: "Передний"},
              {label: "Двигатель", value: "1.6 л, 120 л.с."},
              {label: "Расход", value: "6.0 л/100км"}
            ], {minute: "55 ₽/мин", hour: "1300 ₽/час"})'>Подробнее</button>
            <button class="btn btn-dark" onclick="openRentModal()">Арендовать</button>
          </div>
        </div>
      </div>

      <div class="rental-card" data-category="Автомат Полный привод">
        <img src="images/Audi_Q7.webp" alt="Audi Q7">
        <div class="card-body">
          <span class="tag">Аренда</span>
          <h3>Audi Q7</h3>
          <p class="desc">Внедорожник, Автомат, Полный привод</p>
          <div class="price-row">
            <div class="price">130 ₽/мин</div>
            <div class="price">3100 ₽/час</div>
          </div>
          <div class="card-buttons">
            <button class="btn" onclick='openCarDetails("Audi Q7", "images/Audi_Q7.webp", [
              {label: "Тип", value: "Внедорожник"},
              {label: "КПП", value: "Автомат"},
              {label: "Привод", value: "Полный"},
              {label: "Двигатель", value: "3.0 л, 333 л.с."},
              {label: "Расход", value: "9.0 л/100км"}
            ], {minute: "130 ₽/мин", hour: "3100 ₽/час"})'>Подробнее</button>
            <button class="btn btn-dark" onclick="openRentModal()">Арендовать</button>
          </div>
        </div>
      </div>

      <div class="rental-card" data-category="Автомат Передний привод">
        <img src="images/Mercedes_E_Class.webp" alt="Mercedes E-Class">
        <div class="card-body">
          <span class="tag">Аренда</span>
          <h3>Mercedes E-Class</h3>
          <p class="desc">Седан, Автомат, Передний привод</p>
          <div class="price-row">
            <div class="price">100 ₽/мин</div>
            <div class="price">2500 ₽/час</div>
          </div>
          <div class="card-buttons">
            <button class="btn" onclick='openCarDetails("Mercedes E-Class", "images/Mercedes_E_Class.webp", [
              {label: "Тип", value: "Седан"},
              {label: "КПП", value: "Автомат"},
              {label: "Привод", value: "Передний"},
              {label: "Двигатель", value: "2.0 л, 245 л.с."},
              {label: "Расход", value: "7.5 л/100км"}
            ], {minute: "100 ₽/мин", hour: "2500 ₽/час"})'>Подробнее</button>
            <button class="btn btn-dark" onclick="openRentModal()">Арендовать</button>
          </div>
        </div>
      </div>

      <div class="rental-card" data-category="Механика Полный привод">
        <img src="images/Jeep_Wrangler.webp" alt="Jeep Wrangler">
        <div class="card-body">
          <span class="tag">Аренда</span>
          <h3>Jeep Wrangler</h3>
          <p class="desc">Внедорожник, Механика, Полный привод</p>
          <div class="price-row">
            <div class="price">140 ₽/мин</div>
            <div class="price">3200 ₽/час</div>
          </div>
          <div class="card-buttons">
            <button class="btn" onclick='openCarDetails("Jeep Wrangler", "images/Jeep_Wrangler.webp", [
              {label: "Тип", value: "Внедорожник"},
              {label: "КПП", value: "Механика"},
              {label: "Привод", value: "Полный"},
              {label: "Двигатель", value: "3.6 л, 280 л.с."},
              {label: "Расход", value: "11.0 л/100км"}
            ], {minute: "140 ₽/мин", hour: "3200 ₽/час"})'>Подробнее</button>
            <button class="btn btn-dark" onclick="openRentModal()">Арендовать</button>
          </div>
        </div>
      </div>

    </div>
  </section>

  <footer class="footer-section">
    <div class="container">
      <div class="footer-card">
        <div class="footer-content">
          <div class="footer-left">
            <span class="logo" style="background:white;color:black;">MobiGo</span>
            <h2 style="margin-top:20px;font-size:32px;">7 (000) 000-00-00</h2>
            <p>
              г. Чебоксары<br>ул., д.10<br>ПН–ПТ 09:00–19:00
            </p>
          </div>
          <div class="footer-right">
            <h3 style="font-size:18px;margin-bottom:16px;">Оставить заявку</h3>
            <form id="claimForm" class="claim-form">
              <div class="form-group mb-3">
                <input type="text" name="name" placeholder="Ваше имя" required>
              </div>
              <div class="form-group mb-3">
                <input type="tel" name="phone" placeholder="Номер телефона" required>
              </div>
              <button type="submit" class="btn-yellow w-100">Отправить</button>
            </form>
            <div class="footer-socials mt-4">
              <a href="#"><i class="bi bi-facebook"></i></a>
              <a href="#"><i class="bi bi-instagram"></i></a>
              <a href="#"><i class="bi bi-telegram"></i></a>
            </div>
            <p style="opacity:.8;font-size:12px;margin-top:12px;">
              Политика конфиденциальности · Договор оферты
            </p>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <script>
    const filterButtons = document.querySelectorAll('.filter-btn');
    const cards = document.querySelectorAll('.rental-card');

    filterButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        filterButtons.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');

        const category = btn.textContent;
        cards.forEach(card => {
          if (category === 'Все' || card.dataset.category.includes(category)) {
            card.style.display = 'block';
          } else {
            card.style.display = 'none';
          }
        });
      });
    });

    document.addEventListener('DOMContentLoaded', function () {
      const burger = document.getElementById('burger');
      const navMenu = document.getElementById('nav-menu');

      if (burger && navMenu) {
        burger.addEventListener('click', function (e) {
          e.stopPropagation();
          navMenu.classList.toggle('show');
          burger.classList.toggle('active');
        });

        const navLinks = navMenu.querySelectorAll('a');
        navLinks.forEach(link => {
          link.addEventListener('click', function () {
            navMenu.classList.remove('show');
            burger.classList.remove('active');
          });
        });

        document.addEventListener('click', function (event) {
          if (navMenu.classList.contains('show') &&
            !navMenu.contains(event.target) &&
            !burger.contains(event.target)) {
            navMenu.classList.remove('show');
            burger.classList.remove('active');
          }
        });
      }
    });

    function toggleTheme() {
      document.body.classList.toggle("dark");
      const icon = document.querySelector('.theme-toggle i');
      if (document.body.classList.contains("dark")) {
        icon.className = "bi bi-sun";
        localStorage.setItem("theme", "dark");
      } else {
        icon.className = "bi bi-moon";
        localStorage.setItem("theme", "light");
      }
    }

    function openRentModal() {
      document.getElementById('rentModal').classList.remove('hidden');
    }
    function closeRentModal() {
      document.getElementById('rentModal').classList.add('hidden');
    }
    document.querySelectorAll('[data-close]').forEach(el => {
      el.addEventListener('click', closeRentModal);
    });
    document.querySelectorAll('.tariff-btn').forEach(btn => {
      btn.addEventListener('click', function () {
        document.querySelectorAll('.tariff-btn').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        document.querySelector('[name="tariff"]').value = this.dataset.value;
      });
    });
    document.getElementById('rentForm')?.addEventListener('submit', function (e) {
      e.preventDefault();
      alert('Аренда подтверждена! Скоро вы получите СМС с кодом.');
      closeRentModal();
    });
    document.addEventListener('keydown', function (e) {
      if (e.key === 'Escape') {
        closeRentModal();
      }
    });

    function openCarDetails(carName, carImage, specs, tariffs) {
      const modal = document.getElementById('carDetailsModal');
      modal.querySelector('.modal-title').textContent = carName;
      modal.querySelector('.car-image').src = carImage;

      const specsDiv = modal.querySelector('.car-specs');
      specsDiv.innerHTML = '';
      specs.forEach(spec => {
        const p = document.createElement('p');
        p.innerHTML = `<strong>${spec.label}:</strong> ${spec.value}`;
        specsDiv.appendChild(p);
      });

      const tariffRow = modal.querySelector('.tariff-row');
      tariffRow.innerHTML = `<span>${tariffs.minute}</span><span>${tariffs.hour}</span>`;

      modal.classList.remove('hidden');
    }
    document.querySelectorAll('[data-close]').forEach(el => {
      el.addEventListener('click', () => {
        document.getElementById('carDetailsModal').classList.add('hidden');
      });
    });
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        document.getElementById('carDetailsModal').classList.add('hidden');
        document.getElementById('rentModal').classList.add('hidden');
      }
    });
  </script>
</body>

</html>